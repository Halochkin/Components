<script type="module" src="OriginalButton.js"></script>

<h1>All three are active buttons</h1>

<form>
    <fieldset>
        <legend>All four buttons are active buttons</legend>
        <label>Type something...
            <input type="text">
        </label>
        <original-button id="zero">Just a button</original-button>
        <original-button id="one" type="submit">remove submit</original-button>
        <original-button id="oneA" type="reset">remove reset</original-button>
        <original-button id="two" type="submit">change submit to reset</original-button>
        <original-button id="three" type="reset">change reset to submit</original-button>
        <original-button id="four">set reset</original-button>
    </fieldset>
</form>


<script>

  const zero = document.querySelector("#zero");
  const one = document.querySelector("#one");
  const oneA = document.querySelector("#oneA");
  const two = document.querySelector("#two");
  const three = document.querySelector("#three");
  const four = document.querySelector("#four");


  zero.addEventListener("mouseup", function (e) {
    e.target._formElement.reset();
    // browser detect type of the button and grab it as default action, we can`t cancel it
  }, true);

  one.addEventListener("mouseup", function (e) {
    e.target.removeAttribute("type");
    // browser detect type of the button and grab it as default action, we can`t cancel it
  }, true);

  oneA.addEventListener("mouseup", function (e) {
    e.target.removeAttribute("type");
    // browser detect type of the button and grab it as default action, we can`t cancel it
  }, true);

  two.addEventListener("click", function (e) {
    // toggleTick(() => {
    e.target.setAttribute("type", "reset");  // to call attributeChangedCallback AFTER click event listener
    // })
    // submit becomes reset
  }, true);

  three.addEventListener("click", function (e) {
    e.target.setAttribute("type", "submit");
    // reset becomes submit
  }, true);

  four.addEventListener("click", function (e) {
    e.target.setAttribute("type", "reset");
  });


  window.addEventListener("submit", function (e) {
    e.preventDefault();
    e.target.style.backgroundColor = "green";
  });

  window.addEventListener("reset", function (e) {
    e.preventDefault();
    e.target.style.backgroundColor = "red";
  });


</script>
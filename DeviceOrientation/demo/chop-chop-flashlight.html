<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chop-chop flashlight</title>
</head>
<body>
<div>chop-chop event to activate flashlight</div>
<h5>cds</h5>

<script>
  (function () {

    // Ranges in which the initial event is activated
    const gammaDiapasone = [50, 90]; //"axe sharp" vertical angle  (right hand: / -50deg  | -90deg; left hand: \ -50deg, | -90deg;
    const betaDiapasone = [50, -45]; //horisontal angle
    const movedAngle = 35;
    let chops = 2; // number of chops to activate gesture
    // let hand = undefined; //in right hand gamma value will be negative, in left - positive.
    let initialAngle = undefined;
    let eventArr = [];


    function eventHandler(e) {
      eventArr.push(e);
    }

    setInterval(() => {
      if (eventArr.length < 1)
        return;
      if (eventArr[eventArr.length - 1][e.beta] < betaDiapasone[0])
        alert("tilt back");


    }, 100);


    if (window.DeviceMotionEvent) {
      window.addEventListener("devicemotion", eventHandler);
    }
  })();






</script>
</body>
</html>
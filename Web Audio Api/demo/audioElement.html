<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web Audio api Audio element</title>
</head>
<body>
<audio muted autoplay controls src="../audio/firestarter.mp3">
    <!--    <source src="../audio/firestarter.mp3" type="audio/ogg">-->
</audio>
<button onclick="playAudio()">PLAY</button>
<script>


  const audioFile = document.querySelector("audio");
  let audioContext;
  if (window.AudioContext)
    audioContext = new AudioContext();

  const source = audioContext.createMediaElementSource(audioFile);    //[1]
  source.connect(audioContext.destination);

  function playAudio() {
    audioContext.resume();                                            //[2]
    audioFile.play();                                                 //[3]
  }

  // if (window.AudioContext)
  //   audioContext = new AudioContext();
  //
  // const source = audioContext.createMediaElementSource(audioFile);
  // source.connect(audioContext.destination);
  //
  //
  // audioContext.resume();

  function playAudio() {

  }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="https://img.icons8.com/material/4ac144/256/facebook.png" type="image/png">
</head>
<body>
<script>

  (function () {

    let url = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEWsJSn///+rIiaqGB2nAACoDBPw39+uLzLbsbHGfH6rHSK6W13jw8SoBA7fururHyS1Sk2pERfSm5z69vby4+OnAAjDdHbnzc6xPD+9Y2XkxsbIgYOhAADZrK38+Pjy4uLp0tKwNzq0RUe3UVT37u/LiYvQl5jBbm+tdaxYAAAD4klEQVR4nO3dCXPaMBCGYVsSl0EYhzucAZL8/39YSKcJBSHjDVlrle/tTCczTTZ6xsUctiFJYy+pewE/HoTyg1B+v084bMquVNgeGNnNp15he2bzRHaZ6U5vC/uzrO4FPqDiYjOeCada+gb8W9HduoXDpap7bQ9Kz5zC9UscW/CUnruEQ1P3uh6XarmEE133uh6YXTmEnZiEjTaE0oNQfhDKD0L5QSg/COUHofwglB+E8oMwpLT+9zp1fvxS3/mivAhhnjUya0yns9gVJ1sxWBy/7ho7NkYf/837w8ELlcrMrtvfP29OR8sOm9GxzeG0ynVz02yO3uf9rpcYuFDppDWfHlJ/3hewwxY2kvmoRCdZmNnlyuWJRaiKfX99H1CmUOfvd/KEChsTx3kGEQm1mbsg8Qj14p4d6FdNcUK7qARM37zLDU+o7KQaMH2SJVR5VaA0oal2G5Qn1BXuBj+FhW9iYEKlty5DPELVqnwjPPYmSKi7BGB6kHN/mF2eS3hncoS2RwIKEpq2a/1lrZ+tb2hIwsadT3gvW4i5PxzTboWC7i0MDShHaPuRC1VS/RGpMGHLtfqrHNdVvArZ02SDUt1q9N4xxVn21Ni/2nCEtmxPup0bo6uvLByhefb62ktLuwIkGKHa+Y9O+B+4eApGWLINe5p6BUg4Qv9zX/pFSsEIM++LwIcZ+SKecITeJ7+jl9iFvTF5sBQhdU8KIWMQkgdDyBaE5MEQsgUheTCEbEFIHgwhWxCSB0PIFoTkwRCyBSF5cD1C1bjK7L1Cc/0TX4UnVLNe/yrvYYvR9fd/1fMSaxHm5QdDKxXeGUMQQgghhOKEAZ4x9GhheGcMYRtWLMAz2R8s3HoPgccgjH9fuor+kXf8exoIIYQQQgi/3XDp/WUxCP3vPg4hhBAyCP1PLWp6VX83GRcX2ZLjFpff/5nxX/ZU15GZ62sL6MeeShaLo2tsQUgeDCFbEJIHQ8gWhOTBELIFIXkwhGxBSB4MIVsQkgdDyBaE5MEQsgUheTCEbEFIHgwhWxCSB0PIFoTkwRCyBSF5MIRsQUgeDCFbEJIHQ8gWhOTBELIFIXkwhGxBSB4MIVsQkgdDyBaE5MEQsgUheTCEbEFIHgwhWxCSB0PIFoTkwRCyBSF5MIRs+YXkz+gMSJhkxo7P/nx8Du6pj7+/saBwhD8VhPKDUH6/VOh/Ezth6alDuPa/t5SoVJI6hOkknv+mxZNTmC7JH6EcWMV/b5x2vj0L8id9B5WdpLeE60FD/mbMzev6pjAdvbYKJTs7Wx3S28KTMWlJLl8N09QrjDAI5Qeh/CCUH4Tyg1B+fwBzw4yyd1G4RgAAAABJRU5ErkJggg=='
    let headers = new Headers({'X-Mashape-Key': 'API_KEY'});

    let options = {
      method: 'GET',
      headers: headers,
      mode: 'no-cors',
      cache: 'default'
    };
    let request = new Request(url);

    fetch(request, options).then((response) => {
      let base64Flag = undefined;
      let imageStr = undefined;
      let url = undefined;
      response.arrayBuffer().then((buffer) => {
        base64Flag = 'data:image/jpeg;base64,';
        imageStr = arrayBufferToBase64(buffer);
        url = base64Flag + imageStr;
      });
      window.addEventListener('offline', e => updateOnlineStatus(e, url));
      return base64Flag + imageStr;
    });

    function arrayBufferToBase64(buffer) {
      let binary = '';
      let bytes = [].slice.call(new Uint8Array(buffer));
      bytes.forEach((b) => binary += String.fromCharCode(b));
      return window.btoa(binary);
    }

    function updateOnlineStatus(e, offfavicon) {
      if (e.type === "online")
        location.reload();
      let head = document.querySelector("head").children[1];
      let favicon = head.attributes[1].value;
      head.attributes[1].value = e.type === "online" ? favicon : offfavicon;
    }

    window.addEventListener('online', updateOnlineStatus);
  })();

</script>
</body>
</html>
